DELIMITER $$

CREATE TRIGGER CheckUserBeforeInsert
BEFORE INSERT ON User
FOR EACH ROW
BEGIN
    IF EXISTS (SELECT 1 FROM User WHERE NetID = NEW.NetID) THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'User already exists in the database';
    END IF;
END $$ 
DELIMITER;
